<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container" id="form1">
        <div class="form">
            <form action="">
                <h1>Stay updated!</h1>

                <p class="joinPara">Join 60,000+ product managers receiving monthly updates on:</p>

                <p class="descriptionPara1"><img src="../assets/images/icon-list.svg" alt="SVG Icon"> Product discovery and building what matters</p>
                <p class="descriptionPara2"><img src="../assets/images/icon-list.svg" alt="SVG Icon"> Measuring to ensure updates are a success</p>
                <p class="descriptionPara3"><img src="../assets/images/icon-list.svg" alt="SVG Icon"> And much more!</p>

                <label for="email" class="emailHeading">
                     Email address
                </label>
                <label for="emailError" class="emailError">Valid email required</label>
                <input type="text" placeholder="email@company.com" id="email" class="initalEmailInput">
                <button type="button" class="subscribe"
                onclick= "
                validateEmail() ? showNextForm('form1', 'form2') : inputError()
                ">
                Subscribe to monthly newsletter
                </button>
                <!-- <button type="button" class="subscribe">Subscribe to monthly newsletter</button> -->

            </form>
        </div>
        <div>
            <img src="../assets/images/illustration-sign-up-desktop.svg" alt="SVG Desktop Image" class="svgDesktopImage">
        </div>
    </div>
    <div class="hideContain" id="form2">
        <img src="../assets/images/icon-success.svg" alt="SVGsuccess">
        <h1>Thanks for subscribing!</h1>
        <p>A confirmation email has been sent to</p>
        <p><b>ash@loremcompany.com.</b> Please open it and click</p>
        <p>the button inside to confirm your subscription.</p>
        <button class="dismiss"
        onclick="changeForm()">Dismiss message</button>
    </div>

    <!--Now coding for Javascript-->

    <script>
        function showNextForm(currentFormId, NextFormId) {

            // event.preventDefault();

            var currentForm = document.getElementById(currentFormId)
            var NextForm = document.getElementById(NextFormId)

            currentForm.classList.remove('container')
            currentForm.classList.add('hideContain')
            NextForm.classList.remove('hideContain')
            NextForm.classList.add('showConfirmation')
        }

        function changeForm() {
            var dismissButton = document.querySelector('.dismiss');

            dismissButton.style.background = "hsl(234, 29%, 20%)";
        }

        function validateEmail(){
            const email = document.getElementById("email").value
            const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
            return pattern.test(email)
        }

        // function wrongInput() {
        //     alert("Wrong email entered !")
        // }

        function inputError() {
            var initialInput = document.querySelector(".initalEmailInput")
            var emailError = document.querySelector(".emailError")

            initialInput.style.color = "rgb(241, 11, 11, 0.89)"
            initialInput.style.border = "1px solid rgba(255, 0, 0, 0.3)"
            initialInput.style.background = "rgba(255, 0, 0, 0.2)"
            emailError.style.display = "show"
        }

        // document.querySelector('.subscribe').addEventListener('click', function() {
        //     validateEmail() ? showNextForm('form1', 'form2') : wrongInput();
        // })
    </script>
</body>
</html>